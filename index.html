<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅูุณ ุฃู ุงูุญุณุงุจูุฉ - ุงููุณุฎุฉ ุงูุงุญุชุฑุงููุฉ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="light-mode">
    <div id="bg-layer"></div>

    <div id="app-wrapper">
        <div id="setup-screen" class="screen active">
            <div class="glass-card">
                <h1 class="main-title">ุฅูุณ ุฃู ุงูุญุณุงุจูุฉ</h1>
                <button class="instr-btn" onclick="openHelp()">๐ ุฏููู ุงููุนุจ ูุงููุณุชููุงุช ุงูุดุงูู</button>
                
                <div class="setup-form">
                    <div class="names-row">
                        <input type="text" id="nameX" placeholder="ุงุณู ูุฑูู X" autocomplete="off">
                        <input type="text" id="nameO" placeholder="ุงุณู ูุฑูู O" autocomplete="off">
                    </div>

                    <div class="settings-row">
                        <div class="setting-group">
                            <label>ูุณุชูู ุงูุชุญุฏู:</label>
                            <select id="levelSelect">
                                <option value="1" selected>ุงููุณุชูู 1: ูุจุงุดุฑ (ููุงุณูู)</option>
                                <option value="2">ุงููุณุชูู 2: ุงูุนุฏุฏ ุงูููููุฏ (?)</option>
                                <option value="3">ุงููุณุชูู 3: ูุฑุงุบูู (ููููุน ุงูุฑูู 1)</option>
                                <option value="4">ุงููุณุชูู 4: ุงูููุฒุงู ุงูุญุณุงุจู</option>
                            </select>
                        </div>
                        <div class="setting-group">
                            <label>ุงููุคูุช (ุซูุงูู):</label>
                            <select id="timerSelect">
                                <option value="0">ุจุฏูู ููุช</option>
                                <option value="5">5 ุซูุงูู</option>
                                <option value="10" selected>10 ุซูุงูู</option>
                                <option value="20">20 ุซุงููุฉ</option>
                            </select>
                        </div>
                    </div>
                </div>
                <button class="start-game-btn" onclick="startGame()">ุงุจุฏุฃ ุงููุจุงุฑุงุฉ</button>
            </div>
        </div>

        <div id="game-screen" class="screen hidden">
            <div class="game-container">
                <header class="game-header">
                    <div id="panelX" class="player-panel x-side">
                        <span id="labelX">ูุฑูู X</span>
                        <div class="score-box">ุงูููุงุท: <span id="scoreX">0</span></div>
                    </div>
                    
                    <div class="timer-hub">
                        <div id="countdown-display">10</div>
                    </div>

                    <div id="panelO" class="player-panel o-side">
                        <span id="labelO">ูุฑูู O</span>
                        <div class="score-box">ุงูููุงุท: <span id="scoreO">0</span></div>
                    </div>
                </header>

                <main class="board-area">
                    <div id="ultimate-grid"></div>
                </main>

                <footer class="game-footer">
                    <button onclick="location.reload()" class="footer-btn">๐ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</button>
                    <button onclick="toggleTheme()" class="footer-btn">๐ ุชุจุฏูู ุงููุธูุฑ</button>
                </footer>
            </div>
            
            <div id="free-move-banner" class="banner hidden">โก ููุฉ ุงููุนุจ ุงูุญุฑ ูุชุงุญุฉ!</div>
        </div>

        <div id="help-modal" class="modal-overlay hidden">
            <div class="modal-card help-card">
                <h2>๐ ุฏููู ุงููุนุจ ุงูุดุงูู</h2>
                <div class="help-scroll-area">
                    <h3>โข ููุทู ุงููุนุจ</h3>
                    <p>ุงููุนุจุฉ ููููุฉ ูู 9 ูุฑุจุนุงุช ูุจูุฑุฉุ ูู ูููุง ูุญุชูู ุนูู 9 ุตุบูุฑุฉ. ููููุฒ ุจุงููุฑุจุน ุงููุจูุฑุ ูุฌุจ ุชูููู ุตู ุฃู ุนููุฏ ุฃู ูุทุฑ ูู ุนูุงูุชู.</p>
                    
                    <h3>โข ูุธุงู ุงูุชูุฌูู (ุงูุงุญุชุฑุงูู)</h3>
                    <p>ุงููุฑุจุน ุงูุตุบูุฑ ุงูุฐู ุชุฎุชุงุฑู ุฏุงุฎู ุงููุฑุจุน ุงููุจูุฑ ููุฌู ุฎุตูู ููุนุจ ูู ุงููุฑุจุน ุงููุจูุฑ ุงูููุงุจู ูููุงูู. ุฅุฐุง ูุงู ุงููุฑุจุน ุงูููุฌู ุฅููู ููุชูุฆุงูุ ูุญุตู ุฎุตูู ุนูู "ูุนุจ ุญุฑ".</p>

                    <h3>โข ุงููุณุชููุงุช ุงูุญุณุงุจูุฉ (1-9)</h3>
                    <ul>
                        <li><strong>ุงููุณุชูู 1:</strong> ุนูููุงุช ูุจุงุดุฑุฉุ ุฃุทุฑุงููุง ุจูู 1 ู 9.</li>
                        <li><strong>ุงููุณุชูู 2:</strong> ุงุจุญุซ ุนู ุงูุฑูู ุงูููููุฏ ูู ุฃู ุฌูุฉ ูู ุงููุนุงุฏูุฉ.</li>
                        <li><strong>ุงููุณุชูู 3:</strong> ูุฑุงุบุงู ูุชุทูุจุงู ุฑูููู (ููููุน ุงุณุชุฎุฏุงู ุงูุฑูู 1 ุชูุงูุงู).</li>
                        <li><strong>ุงููุณุชูู 4:</strong> ููุฒุงู ุญุณุงุจู ูุทูุจ ููู ููุงุฒูุฉ ุทุฑูู ุงููุนุงุฏูุฉ.</li>
                    </ul>
                </div>
                <button class="close-modal-btn" onclick="closeHelp()">ูููุช ุงูููุงุนุฏ</button>
            </div>
        </div>

        <div id="math-popup" class="modal-overlay hidden">
            <div class="modal-card math-card">
                <div class="time-track"><div id="time-bar"></div></div>
                <h3 id="level-title">ุชุญุฏู ุงูุญุณุงุจ</h3>
                <h2 id="equation-text">5 + 4 = ?</h2>
                
                <div class="answer-zone">
                    <div id="player-ans-view">_</div>
                    <div id="feedback-tick" class="hidden">โ ุตุญูุญ</div>
                </div>

                <div class="numpad">
                    <button onclick="pressNum(1)">1</button><button onclick="pressNum(2)">2</button><button onclick="pressNum(3)">3</button>
                    <button onclick="pressNum(4)">4</button><button onclick="pressNum(5)">5</button><button onclick="pressNum(6)">6</button>
                    <button onclick="pressNum(7)">7</button><button onclick="pressNum(8)">8</button><button onclick="pressNum(9)">9</button>
                    <button class="clr-btn" onclick="clearAns()">C</button><button onclick="pressNum(0)">0</button><button class="del-btn" onclick="delAns()">โซ</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
