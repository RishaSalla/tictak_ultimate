<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>XO Ultimate | ุฅูุณ ุฃู ุฃูุชููุช</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="app-container" class="fixed-box">

        <section id="screen-login" class="screen active">
            <div class="login-content">
                <h1 class="game-logo">XO <span class="highlight">ULTIMATE</span></h1>
                <p class="game-subtitle">ุงูุฅุตุฏุงุฑ ุงูุงุญุชุฑุงูู</p>
                
                <div class="pin-wrapper">
                    <input type="password" id="access-code" placeholder="ุฑูุฒ ุงูุฏุฎูู" maxlength="8">
                </div>
                <button class="btn-primary large" id="btn-login">ุฏุฎูู ุงููุธุงู</button>
                <p id="login-msg" class="status-text"></p>
            </div>
        </section>

        <section id="screen-setup" class="screen hidden">
            <header class="screen-header">
                <h2>ุชุฌููุฒ ุงููุงุนุจูู</h2>
            </header>
            
            <div class="scrollable-content">
                <div class="player-setup-card p1-border">
                    <label>ุงููุงุนุจ ุงูุฃูู (X)</label>
                    <input type="text" id="setup-p1-name" value="ุงููุงุนุจ 1" placeholder="ุงูุงุณู">
                    <div class="avatar-row" id="p1-avatars">
                        <div class="avatar-opt selected" data-val="X">X</div>
                        <div class="avatar-opt" data-val="๐ฆ">๐ฆ</div>
                        <div class="avatar-opt" data-val="๐">๐</div>
                        <div class="avatar-opt" data-val="โ๏ธ">โ๏ธ</div>
                    </div>
                </div>

                <div class="player-setup-card p2-border">
                    <label>ุงููุงุนุจ ุงูุซุงูู (O)</label>
                    <input type="text" id="setup-p2-name" value="ุงููุงุนุจ 2" placeholder="ุงูุงุณู">
                    <div class="avatar-row" id="p2-avatars">
                        <div class="avatar-opt selected" data-val="O">O</div>
                        <div class="avatar-opt" data-val="๐ฏ">๐ฏ</div>
                        <div class="avatar-opt" data-val="๐">๐</div>
                        <div class="avatar-opt" data-val="๐ก๏ธ">๐ก๏ธ</div>
                    </div>
                </div>

                <div class="theme-setup-card">
                    <label>ูุธูุฑ ุงููุนุจุฉ</label>
                    <div class="theme-options">
                        <div class="theme-btn active" data-theme="plasma" onclick="App.UI.previewTheme('plasma')">
                            <span class="color-dot plasma-dot"></span> ุจูุงุฒูุง
                        </div>
                        <div class="theme-btn" data-theme="matrix" onclick="App.UI.previewTheme('matrix')">
                            <span class="color-dot matrix-dot"></span> ูุงุชุฑููุณ
                        </div>
                        <div class="theme-btn" data-theme="royal" onclick="App.UI.previewTheme('royal')">
                            <span class="color-dot royal-dot"></span> ูููู
                        </div>
                    </div>
                </div>
            </div>

            <footer class="screen-footer">
                <button class="btn-primary full" onclick="App.Core.finishSetup()">ุญูุธ ูุงูุทูุงู</button>
            </footer>
        </section>

        <section id="screen-menu" class="screen hidden">
            <header class="main-header">
                <div class="header-content">
                    <h2>ุงุฎุชุฑ ุงูุชุญุฏู</h2>
                    <button class="btn-icon" onclick="App.UI.openHelp()" title="ุงูุชุนูููุงุช">โ</button>
                </div>
            </header>

            <div class="modes-grid">
                <div class="mode-card wide featured" onclick="App.Core.selectMode('strategy')">
                    <div class="icon">โ๏ธ</div>
                    <div class="info">
                        <h3>ุงูุชูุชูู (XO)</h3>
                        <p>ุฐูุงุก ุงุณุชุฑุงุชูุฌู ุฎุงูุต. ุจุฏูู ุนูููุงุช ุญุณุงุจูุฉ.</p>
                    </div>
                </div>

                <div class="mode-card" onclick="App.Core.selectMode('clash')">
                    <div class="icon">โก</div>
                    <h3>ุงูููุงุฌูุฉ</h3>
                    <p>ุฌุฏูู ุงูุถุฑุจ</p>
                </div>
                <div class="mode-card" onclick="App.Core.selectMode('code')">
                    <div class="icon">๐งฉ</div>
                    <h3>ุงูุดููุฑุฉ</h3>
                    <p>ุฃูุฌุฏ ุงููุฌููู</p>
                </div>
                <div class="mode-card" onclick="App.Core.selectMode('duality')">
                    <div class="icon">โ๏ธ</div>
                    <h3>ุงูุซูุงุฆูุงุช</h3>
                    <p>ุฒูุฌู / ูุฑุฏู</p>
                </div>
                <div class="mode-card" onclick="App.Core.selectMode('genius')">
                    <div class="icon">๐ง</div>
                    <h3>ุงูุนุจุงูุฑุฉ</h3>
                    <p>ูููุญุชุฑููู</p>
                </div>
            </div>
            
            <div class="menu-actions">
                <button class="btn-secondary small" onclick="App.UI.backToSetup()">โ๏ธ ุชุนุฏูู ุงููุงุนุจูู</button>
            </div>
        </section>

        <section id="screen-game" class="screen hidden">
            <header class="game-hud">
                <button class="btn-icon small" onclick="App.Core.exitGame()">โฉ</button>
                
                <div class="score-board">
                    <div class="p-badge p1" id="hud-p1">
                        <span class="avatar">X</span>
                        <span class="score" id="score-x">0</span>
                    </div>
                    <div class="vs">VS</div>
                    <div class="p-badge p2" id="hud-p2">
                        <span class="score" id="score-o">0</span>
                        <span class="avatar">O</span>
                    </div>
                </div>

                <button class="btn-icon small" onclick="App.UI.openHelp()">โ</button>
            </header>

            <div class="status-bar" id="game-status">
                ูู ุจุงุฎุชูุงุฑ ูุฑุจุน ููุจุฏุก...
            </div>

            <div class="arena-wrapper">
                <div id="game-grid" class="game-grid">
                    </div>
            </div>

            <footer class="powers-dock">
                <button class="power-item btn-nuke" onclick="App.Core.activatePower('nuke')">
                    <div class="icon-box">๐งน</div>
                    <span>ููุญุงุฉ</span>
                    <div class="badge" id="count-nuke">1</div>
                </button>
                <button class="power-item btn-freeze" onclick="App.Core.activatePower('freeze')">
                    <div class="icon-box">โ๏ธ</div>
                    <span>ุชุฌููุฏ</span>
                    <div class="badge" id="count-freeze">1</div>
                </button>
                <button class="power-item btn-hack" onclick="App.Core.activatePower('hack')">
                    <div class="icon-box">โ</div>
                    <span>ุงุณุชุญูุงุฐ</span>
                    <div class="badge" id="count-hack">1</div>
                </button>
            </footer>
        </section>

    </div> <div id="modal-help" class="modal-overlay hidden">
        <div class="modal-content large">
            <header class="modal-header">
                <h3>ุฏููู ุงููุนุจ ูุงููุฏุฑุงุช</h3>
                <button class="close-btn" onclick="App.UI.closeHelp()">ร</button>
            </header>
            <div class="modal-body text-content">
                <h4>๐ฏ ุงููุฏู ูู ุงููุนุจุฉ</h4>
                <p>ุงูููุฒ ุจุซูุงุซุฉ ูุฑุจุนุงุช ูุจูุฑุฉ ูุชุฌุงูุฑุฉ (ุฃูููุงูุ ุนููุฏูุงูุ ุฃู ูุทุฑูุงู) ููุงูุชุตุงุฑ ูู ุงููุจุงุฑุงุฉ.</p>
                <hr>
                
                <h4>๐ ููุงููู ุงููุนุจ</h4>
                <ul>
                    <li><strong>ุงูุฅุฌุจุงุฑ (ุงูุชูุฌูู):</strong> ุงููุฑุจุน ุงูุตุบูุฑ ุงูุฐู ุชูุนุจ ููู ูุญุฏุฏ "ุงููุฑุจุน ุงููุจูุฑ" ุงูุฐู ูุฌุจ ุฃู ููุนุจ ููู ุฎุตูู ูู ุฏูุฑู ุงูุชุงูู.</li>
                    <li><strong>ุงูููุทูุฉ ุงููุดุทุฉ:</strong> ุงููุฑุจุน ุงููุถุงุก ุจุงูููู ุงูุฐูุจู ูู ุงููุญูุฏ ุงููุชุงุญ ููุนุจ.</li>
                    <li><strong>ุงูุญุฑูุฉ:</strong> ุฅุฐุง ุชู ุชูุฌููู ุฅูู ูุฑุจุน "ููุชูู" ุฃู "ูุบูู"ุ ูุญู ูู ุงููุนุจ ูู ุฃู ููุงู ูู ุงูุฑูุนุฉ.</li>
                </ul>
                <hr>

                <h4>๐ ุงููุฏุฑุงุช ุงูุฎุงุตุฉ (ูุฑุฉ ูุงุญุฏุฉ ููู ูุงุนุจ)</h4>
                <div class="power-explain">
                    <span class="p-icon">๐งน</span>
                    <div>
                        <strong>ุงูููุญุงุฉ (Eraser):</strong>
                        <p>ุชุณุชุฎุฏู ููุณุญ "ูุฑุจุน ูุจูุฑ" ุจุงููุงูู ูุฅุนุงุฏุฉ ุชุตููุฑู. ูููุฏุฉ ูุฅููุงุฐ ูุฑุจุน ุฃูุดู ุงูุฎุตู ุนูู ุงูููุฒ ุจู.</p>
                    </div>
                </div>
                <div class="power-explain">
                    <span class="p-icon">โ๏ธ</span>
                    <div>
                        <strong>ุงูุชุฌููุฏ (Freeze):</strong>
                        <p>ูููุน ุงูุชูุงู ุงูุฏูุฑ ููุฎุตู. ูุชูุญ ูู ุงููุนุจ ูุฑุชูู ูุชุชุงููุชูู ูุชุซุจูุช ุณูุทุฑุชู.</p>
                    </div>
                </div>
                <div class="power-explain">
                    <span class="p-icon">โ</span>
                    <div>
                        <strong>ุงูุงุณุชุญูุงุฐ (Claim):</strong>
                        <p>ุณุฑูุฉ ุฎููุฉ ูุงุญุฏุฉ ูู ุงูุฎุตู ูุชุญููููุง ูุตุงูุญู. (ูุง ูููู ุณุฑูุฉ ุฎููุฉ ูุงุฑุบุฉ).</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-calc" class="modal-overlay hidden">
        <div class="modal-content calc-box">
            <div class="timer-line"><div id="timer-fill"></div></div>
            <div class="calc-display">
                <div class="q-text" id="calc-q">?</div>
                <div class="a-text" id="calc-a">_</div>
            </div>
            <div class="numpad">
                <button onclick="App.Core.typeNum(1)">1</button>
                <button onclick="App.Core.typeNum(2)">2</button>
                <button onclick="App.Core.typeNum(3)">3</button>
                <button onclick="App.Core.typeNum(4)">4</button>
                <button onclick="App.Core.typeNum(5)">5</button>
                <button onclick="App.Core.typeNum(6)">6</button>
                <button onclick="App.Core.typeNum(7)">7</button>
                <button onclick="App.Core.typeNum(8)">8</button>
                <button onclick="App.Core.typeNum(9)">9</button>
                <button class="clr" onclick="App.Core.clearCalc()">C</button>
                <button onclick="App.Core.typeNum(0)">0</button>
                <button class="ok" onclick="App.Core.submitCalc()">โ</button>
            </div>
        </div>
    </div>

    <div id="modal-win" class="modal-overlay hidden">
        <div class="modal-content win-card">
            <div class="trophy-anim">๐</div>
            <h2>ูุจุฑูู ุงูููุฒ!</h2>
            <h3 id="winner-name" class="highlight">-</h3>
            <div class="win-actions">
                <button class="btn-primary" onclick="App.Core.rematch()">ุฌููุฉ ุฃุฎุฑู</button>
                <button class="btn-secondary" onclick="App.Core.exitGame()">ุงููุงุฆูุฉ</button>
            </div>
        </div>
    </div>

    <script src="core.js"></script>
</body>
</html>
