<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X-O Math Pro - Light Mode</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="light-mode">
    <div id="matrix-bg-layer"></div>

    <div id="setup-screen" class="screen-layer">
        <div class="glass-card">
            <h1 class="glow-title">ุฅูุณ ุฃู ุงูุญุณุงุจูุฉ</h1>
            <button class="instr-trigger-btn" onclick="toggleModal(true)">๐ ุฏููู ุงููุนุจ ูุงููุณุชููุงุช</button>

            <div class="setup-body">
                <div class="name-inputs">
                    <input type="text" id="pXName" placeholder="ุงุณู ุงููุฑูู X" autocomplete="off">
                    <input type="text" id="pOName" placeholder="ุงุณู ุงููุฑูู O" autocomplete="off">
                </div>
                <div class="config-grid">
                    <div class="config-item">
                        <label>ูุณุชูู ุงูุชุญุฏู:</label>
                        <select id="difficultyLevel">
                            <option value="1">1: ููุงุณูู (ูุจุงุดุฑ)</option>
                            <option value="2" selected>2: ุงูุนุฏุฏ ุงูููููุฏ (?)</option>
                            <option value="3">3: ูุฑุงุบ ูุฒุฏูุฌ (ุจุฏูู 1)</option>
                            <option value="4">4: ุงูููุฒุงู ุงูุญุณุงุจู</option>
                        </select>
                    </div>
                    <div class="config-item">
                        <label>ุงููุคูุช:</label>
                        <select id="timerConfig">
                            <option value="0">ุจุฏูู</option>
                            <option value="5">5 ุซูุงูู</option>
                            <option value="10" selected>10 ุซูุงูู</option>
                        </select>
                    </div>
                </div>
                <button id="launchGameBtn" class="main-play-btn">ุงุจุฏุฃ ุงููุนุจ</button>
            </div>
        </div>
    </div>

    <div id="game-screen" class="screen-layer hidden">
        <div class="game-ui-wrapper">
            <header class="game-header">
                <div id="cardX" class="team-panel x-border">
                    <span id="nameLabelX">ูุฑูู X</span>
                    <div class="score">ูุฑุจุนุงุช: <span id="valX">0</span></div>
                </div>
                <div class="timer-display"><div id="countdown-num">--</div></div>
                <div id="cardO" class="team-panel o-border">
                    <span id="nameLabelO">ูุฑูู O</span>
                    <div class="score">ูุฑุจุนุงุช: <span id="valO">0</span></div>
                </div>
            </header>

            <main class="board-arena">
                <div id="main-81-board"></div>
            </main>

            <footer class="game-footer">
                <button onclick="backToMenu()" class="footer-btn">ุงูุนูุฏุฉ ููุฅุนุฏุงุฏุงุช</button>
                <button onclick="toggleTheme()" class="footer-btn">ุชุจุฏูู ุงููุธูุฑ (ูุงุชุญ/ุฏุงูู)</button>
            </footer>
        </div>
        <div id="free-play-alert" class="free-banner hidden">โก ูุนุจ ุญุฑ ูุชุงุญ!</div>
    </div>

    <div id="full-instr-modal" class="modal-layer hidden">
        <div class="modal-content">
            <h2>๐ ุฏููู ุงููุนุจ ุงูุดุงูู</h2>
            <div class="instr-scroll-area">
                <p><strong>1. ููุทู ุงููุนุจุฉ:</strong> ุงุณุชุญูุฐ ุนูู 3 ูุฑุจุนุงุช ูุจูุฑุฉ ูุชุชุงููุฉ ููููุฒ.</p>
                <p><strong>2. ุงูุชูุฌูู:</strong> ุงููุฑุจุน ุงูุตุบูุฑ ุงูุฐู ุชุฎุชุงุฑู ููุฌู ุฎุตูู ูููุฑุจุน ุงููุจูุฑ ุงูููุงุจู.</p>
                <p><strong>3. ุงููุณุชููุงุช:</strong> 1 (ูุจุงุดุฑ)ุ 2 (ููููุฏ)ุ 3 (ูุฑุงุบุงู ุจุฏูู ุฑูู 1)ุ 4 (ููุฒุงู).</p>
            </div>
            <button class="close-modal-btn" onclick="toggleModal(false)">ุฅุบูุงู</button>
        </div>
    </div>

    <div id="math-popup" class="popup-layer hidden">
        <div class="math-card">
            <div class="math-timer-track"><div id="math-timer-fill"></div></div>
            <h2 id="equation-display">-- = --</h2>
            <div class="ans-zone">
                <div id="ans-preview">_</div>
                <div id="ans-status" class="hidden">โ ุตุญูุญ</div>
            </div>
            <div class="numpad">
                <button onclick="numClick(1)">1</button><button onclick="numClick(2)">2</button><button onclick="numClick(3)">3</button>
                <button onclick="numClick(4)">4</button><button onclick="numClick(5)">5</button><button onclick="numClick(6)">6</button>
                <button onclick="numClick(7)">7</button><button onclick="numClick(8)">8</button><button onclick="numClick(9)">9</button>
                <button onclick="numClear()" class="c-btn">C</button><button onclick="numClick(0)">0</button><button onclick="numDel()">โซ</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
