<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅูุณ ุฃู ุงูุญุณุงุจูุฉ ุงููุทูุฑุฉ | Ultimate Math X-O</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="dark-mode">

    <div id="bg-particles"></div>

    <div id="setup-screen" class="screen">
        <div class="glass-card-setup">
            <h1 class="main-glow-title">ุฅูุณ ุฃู ุงูุญุณุงุจูุฉ</h1>
            
            <p class="instructions-trigger" onclick="openInstructions()">๐ ุชุนูููุงุช ุงููุนุจ ุงููุงููุฉ</p>

            <div class="setup-container">
                <div class="input-field-group">
                    <input type="text" id="teamXName" placeholder="ุงุณู ุงููุฑูู X (ุนูุงูุฉ ุญูุฑุงุก)" autocomplete="off">
                    <input type="text" id="teamOName" placeholder="ุงุณู ุงููุฑูู O (ุนูุงูุฉ ุฒุฑูุงุก)" autocomplete="off">
                </div>

                <div class="options-grid">
                    <div class="option-item">
                        <label>ููุน ุงูุนูููุงุช ุงูุญุณุงุจูุฉ:</label>
                        <select id="mathOperation">
                            <option value="random">ุนูููุงุช ูุชููุนุฉ (ุนุดูุงุฆู)</option>
                            <option value="add">ุงูุฌูุน ููุท (+)</option>
                            <option value="sub">ุงูุทุฑุญ ููุท (-)</option>
                            <option value="mul">ุงูุถุฑุจ ููุท (ร)</option>
                            <option value="div">ุงููุณูุฉ ุงูุฐูุจูุฉ (รท)</option>
                        </select>
                    </div>

                    <div class="option-item">
                        <label>ููุช ุงูุฅุฌุงุจุฉ (ุซุงููุฉ):</label>
                        <select id="timerOption">
                            <option value="0">ูุนุจ ุญุฑ (ุจุฏูู ููุช)</option>
                            <option value="5">ุชุญุฏู ุณุฑูุน (5 ุซูุงูู)</option>
                            <option value="10" selected>ุชุญุฏู ูุชูุณุท (10 ุซูุงูู)</option>
                            <option value="20">ุชุญุฏู ูุงุฏุฆ (20 ุซุงููุฉ)</option>
                        </select>
                    </div>
                </div>

                <button id="startGameBtn" class="primary-play-btn">ุงุจุฏุฃ ุงููุนุจ</button>
            </div>
        </div>
    </div>

    <div id="instructions-modal" class="modal hidden">
        <div class="modal-content">
            <h2>๐ ุฏููู ุงููุนุจ ูุงูุงุณุชุญูุงุฐ</h2>
            <div class="scroll-info">
                <p><strong>โข ููุทู ุงููุนุจุฉ:</strong> ุชุชููู ุงููุนุจุฉ ูู ููุญุฉ ูุจูุฑุฉ ุจูุง 9 ูุฑุจุนุงุช ูุจูุฑุฉุ ููู ูุฑุจุน ูุจูุฑ ูุญุชูู ุนูู 9 ูุฑุจุนุงุช ุตุบูุฑุฉ (ุงููุฌููุน 81 ุฎุงูุฉ).</p>
                <p><strong>โข ุงูุงุณุชุญูุงุฐ:</strong> ูุชุถุน ุนูุงูุชู ูู ูุฑุจุน ุตุบูุฑุ ูุฌุจ ุนููู ุญู ุงูุนูููุฉ ุงูุญุณุงุจูุฉ ุจูุฌุงุญ. ุงูููุฒ ุจู 3 ูุฑุจุนุงุช ุตุบูุฑุฉ ูุชุชุงููุฉ ูุฌุนูู ุชุณุชุญูุฐ ุนูู "ุงููุฑุจุน ุงููุจูุฑ" ุจุงููุงูู.</p>
                <p><strong>โข ูุธุงู ุงูุชูุฌูู:</strong> ุงููุฑุจุน ุงูุตุบูุฑ ุงูุฐู ุชุฎุชุงุฑู ูุญุฏุฏ ูุฎุตูู ูู ุฃู "ูุฑุจุน ูุจูุฑ" ูุฌุจ ุฃู ููุนุจ ูู ุญุฑูุชู ุงูุชุงููุฉ.</p>
                <p><strong>โข ุงููุนุจ ุงูุญุฑ:</strong> ุฅุฐุง ุฃุฎุทุฃุช ูู ุงูุฅุฌุงุจุฉุ ุฃู ุงูุชูู ุงูููุชุ ุฃู ุฃุฑุณูู ุงูุฎุตู ููุฑุจุน ูุจูุฑ "ููุชูู"ุ ูุญุตู ุงูุฎุตู ุนูู "ูุนุจ ุญุฑ" ูู ุฃู ููุงู ูุฎุชุงุฑู ุจุงูููุญุฉ.</p>
                <p><strong>โข ุงูููุฒ ุงูููุงุฆู:</strong> ูููุฒ ุงููุฑูู ุงูุฐู ูุณุชุญูุฐ ุนูู 3 ูุฑุจุนุงุช ูุจูุฑุฉ ูุชุชุงููุฉ (ุฃูููุงูุ ุฑุฃุณูุงูุ ุฃู ูุทุฑูุงู).</p>
            </div>
            <button class="close-modal-btn" onclick="closeInstructions()">ูููุช ุงูููุงุนุฏ</button>
        </div>
    </div>

    <div id="game-screen" class="screen hidden">
        <div class="game-main-layout">
            
            <header class="game-top-bar">
                <div id="teamX-status" class="status-panel x-side">
                    <h3 id="displayXName">ูุฑูู X</h3>
                    <div class="score-box">ุงููุฑุจุนุงุช: <span id="scoreX">0</span></div>
                </div>

                <div class="timer-center-hub">
                    <div id="main-countdown">--</div>
                    <p class="timer-label">ุงูููุช</p>
                </div>

                <div id="teamO-status" class="status-panel o-side">
                    <h3 id="displayOName">ูุฑูู O</h3>
                    <div class="score-box">ุงููุฑุจุนุงุช: <span id="scoreO">0</span></div>
                </div>
            </header>

            <main class="board-arena">
                <div id="meta-board-container">
                    </div>
            </main>

            <footer class="game-bottom-controls">
                <button onclick="confirmReset()" class="action-btn exit-btn">ุงูุนูุฏุฉ ููุฅุนุฏุงุฏุงุช</button>
                <button id="themeToggleBtn" onclick="toggleTheme()" class="action-btn">ุชุจุฏูู ุงููุธูุฑ (ูุงุชุญ/ุฏุงูู)</button>
            </footer>
        </div>

        <div id="free-move-alert" class="free-banner hidden">โก ููุฉ ุงููุนุจ ุงูุญุฑ ูุชุงุญุฉ ูู ุงูุขู! โก</div>
    </div>

    <div id="math-popup" class="popup hidden">
        <div class="popup-box-glass">
            <div class="timer-line-container">
                <div id="popup-timer-fill"></div>
            </div>
            
            <p class="popup-title">ุฃุฌุจ ูุชุฃููุฏ ุงูุงุณุชุญูุงุฐ:</p>
            <h2 id="math-question-display">-- ร --</h2>
            
            <div class="input-display-area">
                <div id="user-answer-view">_</div>
                <div id="success-tick" class="hidden">โ ุฅุฌุงุจุฉ ุตุญูุญุฉ</div>
            </div>

            <div class="numpad-grid">
                <button onclick="handleNumIn(1)">1</button>
                <button onclick="handleNumIn(2)">2</button>
                <button onclick="handleNumIn(3)">3</button>
                <button onclick="handleNumIn(4)">4</button>
                <button onclick="handleNumIn(5)">5</button>
                <button onclick="handleNumIn(6)">6</button>
                <button onclick="handleNumIn(7)">7</button>
                <button onclick="handleNumIn(8)">8</button>
                <button onclick="handleNumIn(9)">9</button>
                <button onclick="clearAnswer()" class="clear-btn">C</button>
                <button onclick="handleNumIn(0)">0</button>
                <button onclick="deleteLast()" class="back-btn">โซ</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
