<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>منصة التحدي الرياضي الاحترافية | X-MATH</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <section id="setup-screen" class="screen">
        <div class="glass-panel">
            <h1 class="neon-title">X-MATH CHALLENGE</h1>
            
            <div class="identity-grid">
                <div class="input-field">
                    <input type="text" id="team-a" placeholder="اسم الفريق الأول" spellcheck="false">
                </div>
                <div class="vs-glow">VS</div>
                <div class="input-field">
                    <input type="text" id="team-b" placeholder="اسم الفريق الثاني" spellcheck="false">
                </div>
            </div>

            <div class="config-row">
                <label>تحديد مستوى المهمة:</label>
                <select id="level-select">
                    <option value="level1">LEVEL 01: الكلاسيكي</option>
                    <option value="level2">LEVEL 02: المجهول الشامل</option>
                    <option value="level3">LEVEL 03: المزدوج الشامل</option>
                    <option value="level4">LEVEL 04: الميزان الاحترافي</option>
                </select>
            </div>

            <div class="manual-dashboard">
                <h3 class="manual-header">الدليل التشغيلي للمنصة</h3>
                <div class="manual-content">
                    <div class="manual-section">
                        <h4>1. ميكانيكا التحدي</h4>
                        <p>تعتمد المنصة مصفوفة رياضية مكونة من 81 خلية نشطة. الهدف هو فك شفرة جميع الخلايا بنسبة دقة 100%.</p>
                    </div>
                    <div class="manual-section">
                        <h4>2. بروتوكول المستويات</h4>
                        <p><strong>• الكلاسيكي:</strong> معالجة نواتج العمليات الحسابية المباشرة.</p>
                        <p><strong>• المجهول:</strong> استنتاج قيمة المتغير (؟) المفقود في قلب المعادلة.</p>
                        <p><strong>• المزدوج:</strong> نظام الحل المزدوج؛ يتطلب إدخال رقمين متتاليين لتحقيق الناتج المستهدف.</p>
                        <p><strong>• الميزان:</strong> تحقيق التكافؤ؛ الرقم المدخل يجب أن يجعل قيمة الطرف الأيسر تساوي الطرف الأيمن.</p>
                    </div>
                    <div class="manual-section">
                        <h4>3. قواعد النزاهة والفوز</h4>
                        <p>يتم إعلان الفوز عند اكتمال 81/81 خلية. النظام يضمن تجربة فريدة في كل جولة عبر خوارزمية سحب عشوائي غير مكرر.</p>
                    </div>
                </div>
            </div>

            <button id="launch-btn" class="main-action-btn">تفعيل التحدي</button>
        </div>
    </section>

    <section id="game-screen" class="screen hidden">
        <div class="game-container">
            <header class="status-bar">
                <div class="team-label" id="label-a">TEAM 01</div>
                <div class="central-info">
                    <div class="live-score"><span id="score-a">0</span> : <span id="score-b">0</span></div>
                    <div id="game-timer">00:00</div>
                </div>
                <div class="team-label" id="label-b">TEAM 02</div>
            </header>

            <main id="game-board" class="precision-grid"></main>

            <footer class="input-controls">
                <div id="numpad" class="cyber-keys"></div>
                <div class="utility-btns">
                    <button id="help-trigger" class="u-btn">التعليمات</button>
                    <button id="clear-cell" class="u-btn">مسح</button>
                    <button id="terminate-game" class="u-btn danger">إنهاء</button>
                </div>
            </footer>
        </div>

        <div id="quick-manual" class="side-panel hidden">
            <div class="panel-header">
                <h3>دليل المساعدة</h3>
                <button id="close-manual">×</button>
            </div>
            <div id="manual-text-dynamic" class="panel-body"></div>
        </div>
    </section>

    <script src="script.js"></script>
</body>
</html>
