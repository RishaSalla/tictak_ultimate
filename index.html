<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅูุณ ุฃู ุงูุญุณุงุจูุฉ - ุงููุณุฎุฉ ุงูุงุญุชุฑุงููุฉ ุงูููุงุฆูุฉ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="matrix-bg-layer"></div>

    <div id="setup-screen" class="screen-layer">
        <div class="glass-card">
            <h1 class="glow-title">ุฅูุณ ุฃู ุงูุญุณุงุจูุฉ</h1>
            
            <button class="instr-trigger-btn" onclick="toggleModal(true)">๐ ุฏููู ุงููุนุจ ูุงููุณุชููุงุช</button>

            <div class="setup-body">
                <div class="name-inputs">
                    <input type="text" id="pXName" placeholder="ุงุณู ุงููุฑูู X" autocomplete="off">
                    <input type="text" id="pOName" placeholder="ุงุณู ุงููุฑูู O" autocomplete="off">
                </div>

                <div class="config-grid">
                    <div class="config-item">
                        <label>ุงุฎุชุฑ ูุณุชูู ุงูุชุญุฏู:</label>
                        <select id="difficultyLevel">
                            <option value="1">ุงููุณุชูู 1: ููุงุณูู (ูุจุงุดุฑ)</option>
                            <option value="2" selected>ุงููุณุชูู 2: ุงูุนุฏุฏ ุงูููููุฏ (?)</option>
                            <option value="3">ุงููุณุชูู 3: ูุฑุงุบ ูุฒุฏูุฌ (ุจุฏูู 1)</option>
                            <option value="4">ุงููุณุชูู 4: ุงูููุฒุงู ุงูุญุณุงุจู</option>
                        </select>
                    </div>
                    <div class="config-item">
                        <label>ููุช ุงูุฅุฌุงุจุฉ:</label>
                        <select id="timerConfig">
                            <option value="0">ุจุฏูู ููุช</option>
                            <option value="5">5 ุซูุงูู</option>
                            <option value="10" selected>10 ุซูุงูู</option>
                            <option value="15">15 ุซุงููุฉ</option>
                        </select>
                    </div>
                </div>

                <button id="launchGameBtn" class="main-play-btn">ุงุจุฏุฃ ุงููุนุจ</button>
            </div>
        </div>
    </div>

    <div id="game-screen" class="screen-layer hidden">
        <div class="game-ui-wrapper">
            <header class="game-header">
                <div id="cardX" class="team-panel x-border">
                    <span id="nameLabelX">ูุฑูู X</span>
                    <div class="score">ูุฑุจุนุงุช: <span id="valX">0</span></div>
                </div>

                <div class="timer-display">
                    <div id="countdown-num">--</div>
                </div>

                <div id="cardO" class="team-panel o-border">
                    <span id="nameLabelO">ูุฑูู O</span>
                    <div class="score">ูุฑุจุนุงุช: <span id="valO">0</span></div>
                </div>
            </header>

            <main class="board-arena">
                <div id="main-81-board"></div>
            </main>

            <footer class="game-footer">
                <button onclick="backToMenu()" class="footer-btn">ุงูุนูุฏุฉ ููุฅุนุฏุงุฏุงุช</button>
                <button onclick="toggleTheme()" class="footer-btn">ุชุจุฏูู ุงููุธูุฑ</button>
            </footer>
        </div>
        
        <div id="free-play-alert" class="free-banner hidden">โก ููุฉ ุงููุนุจ ุงูุญุฑ ูุชุงุญุฉ ุงูุขู!</div>
    </div>

    <div id="full-instr-modal" class="modal-layer hidden">
        <div class="modal-content">
            <h2>๐ ุฏููู ุงููุนุจ ุงูุดุงูู</h2>
            <div class="instr-scroll-area">
                <h3>1. ููุทู ุงููุนุจุฉ ูุงูุงุณุชุญูุงุฐ</h3>
                <p>ุชุชููู ุงููุนุจุฉ ูู 9 ูุฑุจุนุงุช ูุจูุฑุฉุ ูู ูููุง ูุญุชูู ุนูู 9 ุตุบูุฑุฉ. ูุชุถุน ุนูุงูุชูุ ูุฌุจ ุญู ุงูุณุคุงู. ุงูููุฒ ุจู 3 ูุฑุจุนุงุช ูุชุชุงููุฉ ูููุญู ุงูุณูุทุฑุฉ ุงููููุฉ ุนูู ุงููุฑุจุน ุงููุจูุฑ.</p>
                
                <h3>2. ูุธุงู ุงูุชูุฌูู ูุงููุนุจ ุงูุญุฑ</h3>
                <p>ูููุน ุงููุฑุจุน ุงูุตุบูุฑ ุงูุฐู ุชุฎุชุงุฑู ููุฌู ุฎุตูู ูููุฑุจุน ุงููุจูุฑ ุงูููุงุจู. ุฅุฐุง ุฃุฎุทุฃุช ุฃู ูุฌูุชู ููุฑุจุน ููุชููุ ูุญุตู ุฎุตูู ุนูู "ูุนุจ ุญุฑ".</p>

                <h3>3. ุดุฑุญ ุงููุณุชููุงุช ุงูุญุณุงุจูุฉ</h3>
                <ul>
                    <li><strong>ุงููุณุชูู 1:</strong> ุญู ูุจุงุดุฑ (ูุซุงู: $5 + 3 = ?$).</li>
                    <li><strong>ุงููุณุชูู 2:</strong> ุทุฑู ููููุฏ ูู ุฃู ููุงู (ูุซุงู: $? \times 2 = 8$).</li>
                    <li><strong>ุงููุณุชูู 3:</strong> ูุฑุงุบุงู ูุชุทูุจุงู ุฑููููุ ูููููุน ุงุณุชุฎุฏุงู ุงูุฑูู 1 ุชูุงูุงู.</li>
                    <li><strong>ุงููุณุชูู 4:</strong> ููุฒุงู ุญุณุงุจู ูููุงุฑูุฉ ุทุฑููู (ูุซุงู: $2 \times 3 = ? + 1$).</li>
                </ul>
            </div>
            <button class="close-modal-btn" onclick="toggleModal(false)">ูููุช ุงูููุงุนุฏ</button>
        </div>
    </div>

    <div id="math-popup" class="popup-layer hidden">
        <div class="math-card">
            <div class="math-timer-track"><div id="math-timer-fill"></div></div>
            <h3 id="level-indicator">ุงููุณุชูู ุงูุญุณุงุจู</h3>
            <h2 id="equation-display">-- = --</h2>
            
            <div class="ans-zone">
                <div id="ans-preview">_</div>
                <div id="ans-status" class="hidden">โ ุตุญูุญ</div>
            </div>

            <div class="numpad">
                <button onclick="numClick(1)">1</button><button onclick="numClick(2)">2</button><button onclick="numClick(3)">3</button>
                <button onclick="numClick(4)">4</button><button onclick="numClick(5)">5</button><button onclick="numClick(6)">6</button>
                <button onclick="numClick(7)">7</button><button onclick="numClick(8)">8</button><button onclick="numClick(9)">9</button>
                <button onclick="numClear()" class="c-btn">C</button><button onclick="numClick(0)">0</button><button onclick="numDel()">โซ</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
