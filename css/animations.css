/* =========================================
   ✨ RETRO ANIMATIONS SYSTEM
   تأثيرات النيون، الاهتزاز، واحتفالات الفوز
   ========================================= */

/* 1. وميض النيون للمربعات النشطة */
@keyframes neon-pulse {
    0% { box-shadow: inset 0 0 5px var(--p1-glow); border-color: var(--text-muted); }
    50% { box-shadow: inset 0 0 20px var(--p1-glow); border-color: var(--p1-color); }
    100% { box-shadow: inset 0 0 5px var(--p1-glow); border-color: var(--text-muted); }
}

.active-zone {
    animation: neon-pulse 1.5s infinite ease-in-out;
}

/* 2. اهتزاز الشاشة عند الخطأ (Mechanical Error Shake) */
@keyframes error-shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-5px); }
    40%, 80% { transform: translateX(5px); }
}

.shake {
    animation: error-shake 0.3s cubic-bezier(.36,.07,.19,.97) both;
}

/* 3. ظهور الرموز الضخمة (Pop-In Effect) */
@keyframes symbol-pop {
    0% { transform: scale(0); opacity: 0; }
    80% { transform: scale(1.2); opacity: 0.8; }
    100% { transform: scale(1); opacity: 1; }
}

.sub-grid.won::after {
    animation: symbol-pop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

/* 4. وميض الشاشة الرقمية للحاسبة */
@keyframes lcd-flicker {
    0% { opacity: 0.9; }
    5% { opacity: 0.7; }
    10% { opacity: 0.9; }
    100% { opacity: 1; }
}

.calc-screen {
    animation: lcd-flicker 2s infinite;
}

/* 5. احتفالية الفوز الكبيرة (Victory Glow) */
@keyframes victory-glow {
    0% { filter: drop-shadow(0 0 5px var(--p1-color)); }
    50% { filter: drop-shadow(0 0 25px var(--p1-color)); }
    100% { filter: drop-shadow(0 0 5px var(--p1-color)); }
}

.winner-highlight {
    animation: victory-glow 1s infinite alternate;
}
