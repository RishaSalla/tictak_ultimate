/* =========================================
   ğŸ“ LAYOUT ENGINE
   Ù‡ÙŠÙƒÙ„Ø© Ø§Ù„ØµÙØ­Ø©ØŒ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ù„Ø´Ø§Ø´Ø§ØªØŒ ÙˆØ§Ù„Ù…Ø³Ø±Ø­
   ========================================= */

/* 1. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© */
* { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }

body {
    height: 100vh; width: 100vw; overflow: hidden;
    font-family: var(--font-txt);
    color: var(--text-main);
    background: #f0f4f8; 
    display: flex; align-items: center; justify-content: center;
}

/* 2. Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© (Mesh Gradient) */
.mesh-background {
    position: absolute; inset: 0; z-index: -1;
    overflow: hidden;
    background: radial-gradient(circle at 50% 50%, #fff, #f2f6f9);
}
.blob {
    position: absolute; border-radius: 50%;
    filter: blur(80px); opacity: 0.5;
    animation: float 25s infinite alternate ease-in-out;
}
.blob-1 { width: 600px; height: 600px; background: var(--p1-color); top: -150px; left: -150px; }
.blob-2 { width: 500px; height: 500px; background: var(--p2-color); bottom: -100px; right: -100px; animation-delay: -5s; }
.blob-3 { width: 400px; height: 400px; background: #e0e0e0; top: 40%; left: 30%; opacity: 0.3; animation-delay: -10s; }

@keyframes float {
    0% { transform: translate(0, 0) scale(1); }
    100% { transform: translate(40px, 60px) scale(1.05); }
}

/* 3. Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø¹Ø§Ø¦Ù…Ø© (The Glass Stage) */
.glass-stage {
    position: relative;
    background: var(--glass-bg);
    backdrop-filter: blur(var(--blur));
    -webkit-backdrop-filter: blur(var(--blur));
    border: var(--glass-border);
    box-shadow: 0 40px 100px rgba(0,0,0,0.1); /* Ø¸Ù„ ÙØ®Ù… */
    overflow: hidden;
    display: flex; flex-direction: column;
    transition: all 0.5s ease;
}

/* --- ÙˆØ¶Ø¹ Ø§Ù„Ù„Ø§Ø¨ØªÙˆØ¨ (Ø´Ø§Ø´Ø© Ø¹Ø±ÙŠØ¶Ø© Ù„ØªÙ‚Ø³ÙŠÙ… 3 ÙƒØªÙ„) --- */
@media (min-width: 900px) {
    .glass-stage {
        width: 1000px;  /* Ø¹Ø±ÙŠØ¶ Ø¬Ø¯Ø§Ù‹ Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ø§Ù„ØªÙ‚Ø³ÙŠÙ… */
        height: 700px;
        border-radius: var(--radius-lg);
    }
}

/* --- ÙˆØ¶Ø¹ Ø§Ù„ØªØ§Ø¨Ù„Øª ÙˆØ§Ù„Ø¬ÙˆØ§Ù„ --- */
@media (max-width: 899px) {
    .glass-stage {
        width: 100%; height: 100%;
        border-radius: 0; border: none;
    }
}

/* 4. Ø§Ù„Ø´Ø§Ø´Ø§Øª (Screens) */
.screen {
    position: absolute; inset: 0;
    padding: 20px;
    display: flex; flex-direction: column;
    opacity: 0; pointer-events: none;
    transform: translateY(10px);
    transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
    z-index: 10;
}
.screen.active { opacity: 1; pointer-events: all; transform: translateY(0); }
.screen.hidden { display: none !important; }

/* 5. ØªÙ†Ø³ÙŠÙ‚ ØµÙØ­Ø© Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (3 Blocks Layout) */
.game-layout {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 20px;
    padding: 10px;
    height: 100%;
}

/* Ø§Ù„Ø£Ù„ÙˆØ§Ø­ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†) */
.player-panel {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 20px;
    padding: 20px;
    background: rgba(255,255,255,0.4);
    border-radius: var(--radius-md);
    height: 90%;
}

.board-container {
    flex: 2; /* Ø§Ù„Ø±Ù‚Ø¹Ø© ØªØ£Ø®Ø° Ù…Ø³Ø§Ø­Ø© Ù…Ø²Ø¯ÙˆØ¬Ø© */
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
}

/* Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØµÙØ­Ø© Ø§Ù„Ù„Ø¹Ø¨ Ù„Ù„Ø¬ÙˆØ§Ù„ (ØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ù„Ø¹Ù…ÙˆØ¯ÙŠ) */
@media (max-width: 899px) {
    .game-layout {
        flex-direction: column; /* ÙÙˆÙ‚ Ø¨Ø¹Ø¶ */
        justify-content: center;
        gap: 10px;
    }
    .player-panel {
        flex-direction: row; /* Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ù‚ÙˆØ§Øª */
        width: 100%; height: auto;
        padding: 10px;
        justify-content: space-between;
    }
    .board-container { flex: unset; margin: 10px 0; }
}

/* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ù…Ø³Ø§Ø¹Ø¯Ø© */
.center-content { align-items: center; justify-content: center; text-align: center; }
.scroll-wrapper { flex: 1; overflow-y: auto; padding: 10px 5px; }

/* Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„ÙÙˆØªØ± */
.clay-header {
    height: 50px; display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 10px; flex-shrink: 0;
}
.clay-footer { padding-top: 15px; flex-shrink: 0; }

/* Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù†ÙˆØ§ÙØ° (Ù‡Ø§Ù… Ø¬Ø¯Ø§Ù‹) */
.modal-overlay.hidden { display: none !important; }
