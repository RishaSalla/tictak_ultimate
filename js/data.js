/**
 * ๐พ DATA MODULE (UPDATED LOGIC)
 * ุจูู ุงูุฃุณุฆูุฉ: ุงูููุฒุงู (ุทุฑููู) + ุงูุซูุงุฆูุงุช (ุฑูููู)
 */

export const MathGenerator = {
    rand(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; },

    getQuestion(mode) {
        let q = {}, a = 0, b = 0, c = 0, target = 0;

        switch (mode) {
            case 'clash': // ุงูููุงุฌูุฉ: 5 + 3 = ุ
                a = this.rand(2, 9);
                b = this.rand(2, 9);
                q = { q: `${a} + ${b} = ?`, a: a + b };
                break;

            case 'void': // ุงููุฌููู: 4 + ุ = 9
                a = this.rand(2, 6);
                target = this.rand(7, 15);
                b = target - a; // ุงูุฑูู ุงูููููุฏ
                q = { q: `${a} + ? = ${target}`, a: b };
                break;

            case 'balance': // ุงูููุฒุงู: 5 + 4 = 3 + ุ
                // ุงูุทุฑู ุงูุฃููู
                a = this.rand(3, 8);
                b = this.rand(3, 8);
                let sumLeft = a + b;
                
                // ุงูุทุฑู ุงูุฃูุณุฑ (ูุฌุจ ุฃู ูููู C ุฃูู ูู ุงููุฌููุน ููุจูู ุงูุจุงูู ููุฌุจุงู)
                c = this.rand(2, sumLeft - 1);
                let missing = sumLeft - c;
                
                q = { q: `${a} + ${b} = ${c} + ?`, a: missing };
                break;

            case 'duality': // ุงูุซูุงุฆูุงุช: ุฃุฏุฎู ุฑูููู ูุฌููุนููุง ุงููุฏู
                target = this.rand(8, 18); // ูุฏู ูุชูุณุท ุงูุตุนูุจุฉ
                q = { q: `x + y = ${target}`, targetSum: target, isDuality: true };
                break;
                
            default:
                return null;
        }
        return q;
    }
};

export const HelpData = {
    rules: `
    <h3>๐ ุงูููุงุนุฏ ุงูุฃุณุงุณูุฉ</h3>
    <p>1. <b>ุงููุฏู:</b> ุณูุทุฑ ุนูู 3 ูุฑุจุนุงุช ูุจูุฑุฉ ูุชุชุงููุฉ ููููุฒ ุจุงููุจุงุฑุงุฉ.</p>
    <p>2. <b>ูุธุงู ุงูุญุฑูุฉ:</b> ููุงูู ูู ุงููุฑุจุน ุงูุตุบูุฑ ูุญุฏุฏ ุฃูู ุณููุนุจ ุฎุตูู.</p>
    <p>3. <b>ุงูุณูุทุฑุฉ:</b> ูุฒ ุจู 3 ุฎุงูุงุช ุตุบูุฑุฉ ูุชุชุงููุฉ ูุชุธูุฑ ุจุงููุฑุจุน ุงููุจูุฑ.</p>
    <p>4. <b>ุงูุทุฑูู ุงููุณุฏูุฏ:</b> ุฅุฐุง ุฃุฑุณูู ุงูุฎุตู ููุฑุจุน ููุชูุฆุ ุงูุนุจ ุฃูููุง ุดุฆุช.</p>
    `,
    math: `
    <h3>๐งฎ ุจุฑูุชููููุงุช ุงูุชุญุฏู</h3>
    <ul>
        <li><b>ุงูููุงุฌูุฉ (Clash):</b> ุญู ุงููุนุงุฏูุฉ ุงููุจุงุดุฑุฉ ูุชุซุจูุช ุฑูุฒู.</li>
        <li><b>ุงููุฌููู (Void):</b> ุฌุฏ ุงูุฑูู ุงูููููุฏ ูุฅููุงู ุงููุนุงุฏูุฉ.</li>
        <li><b>ุงูููุฒุงู (Balance):</b> ูุงุฒู ุงูููุชูู (ุงููููู = ุงููุณุงุฑ).</li>
        <li><b>ุงูุซูุงุฆูุงุช (Duality):</b> ุฃุฏุฎู ุฃู ุฑูููู ูุฌููุนููุง ูุณุงูู ุงููุฏู.</li>
    </ul>
    `,
    powers: `
    <h3>โก ุงูุชุฑุณุงูุฉ ุงูุฎุงุตุฉ</h3>
    <p>ุชุณุชุฎุฏู ูุฑุฉ ูุงุญุฏุฉ ููู ูุฑูู:</p>
    <ul>
        <li><b>โข๏ธ ุงููููู (Nuke):</b> ููุญู ูุญุชููุงุช ูุฑุจุน ุตุบูุฑ ุจุงููุงูู.</li>
        <li><b>โ๏ธ ุงูุชุฌููุฏ (Freeze):</b> ูููุน ุงููุนุจ ูู ูุฑุจุน ูุญุฏุฏ ูุฏูุฑ ูุงุญุฏ.</li>
        <li><b>๐พ ุงููุงู (Hack):</b> ูููุจ ุฑูุฒ ุงูุฎุตู ูุตุงูุญู ููุดูุด ุงููุธุงู.</li>
    </ul>
    `
};
