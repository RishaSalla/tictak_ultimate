:root {
    --bg: #0f172a; --card: #1e293b; --txt: #f8fafc;
    --x-color: #f43f5e; --o-color: #3b82f6;
}
.light-mode {
    --bg: #f8fafc; --card: #ffffff; --txt: #0f172a;
}
body {
    background: var(--bg); color: var(--txt); font-family: sans-serif;
    margin: 0; transition: 0.3s; overflow: hidden; direction: rtl;
}
.hidden { display: none !important; }
.glow-text { text-align: center; color: var(--o-color); text-shadow: 0 0 10px; }

/* اللوحة */
#meta-board {
    display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;
    width: 90vmin; height: 90vmin; margin: 10px auto; background: #334155; padding: 5px; border-radius: 10px;
}
.local-board {
    display: grid; grid-template-columns: repeat(3, 1fr); gap: 2px; background: #475569; position: relative;
}
.local-board.active { box-shadow: 0 0 15px #22c55e; outline: 3px solid #22c55e; z-index: 5; }
.cell {
    background: var(--card); aspect-ratio: 1; display: flex; align-items: center; 
    justify-content: center; font-size: 1.8rem; cursor: pointer; font-weight: bold;
}
.cell.X { color: var(--x-color); text-shadow: 0 0 5px var(--x-color); }
.cell.O { color: var(--o-color); text-shadow: 0 0 5px var(--o-color); }

/* البوب آب */
.popup {
    position: fixed; inset: 0; background: rgba(0,0,0,0.8); backdrop-filter: blur(5px);
    display: flex; justify-content: center; align-items: center; z-index: 100;
}
.popup-box {
    background: var(--card); padding: 25px; border-radius: 15px; width: 300px; text-align: center;
    border: 2px solid var(--o-color);
}
#answer-display { font-size: 3rem; color: #22c55e; margin-bottom: 15px; min-height: 4rem; }
.numpad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
.numpad button { 
    padding: 15px; font-size: 1.5rem; border: none; border-radius: 8px; 
    background: #334155; color: white; cursor: pointer; 
}
#popup-progress { height: 5px; background: #22c55e; width: 100%; margin-bottom: 10px; transition: 0.1s linear; }

/* البنرات والكروت */
.game-header { display: flex; justify-content: space-around; padding: 10px; align-items: center; }
.team-card { padding: 5px 20px; border-radius: 10px; border-bottom: 4px solid transparent; }
.team-card.active-turn { border-color: #22c55e; background: rgba(34, 197, 94, 0.1); }
.banner { text-align: center; background: #f59e0b; color: #000; padding: 5px; font-weight: bold; }
.main-btn { width: 100%; padding: 15px; background: #22c55e; border: none; border-radius: 8px; font-size: 1.2rem; cursor: pointer; color: white; }
.setup-container { max-width: 400px; margin: auto; padding: 20px; }
input, select { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #475569; background: var(--card); color: var(--txt); }
